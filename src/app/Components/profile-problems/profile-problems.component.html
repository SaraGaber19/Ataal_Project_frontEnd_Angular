<div class="cont">
  <div [class]=" problem.isSolved?'  card w-75 mx-auto   design2' :' card w-75 mx-auto  design' " *ngFor="let problem of Problems">
    <div class="card-body p-0 ">
      <div class="d-flex design3 justify-content-around p-1 m-0 " >
        <h2 class="m-0 p-0 card-title text-dark">{{problem.title}}</h2>


      </div>
      <div class=" me-5 mt-3 d-flex justify-content-end">
        <h3 *ngIf="!problem.isSolved"  [class]="problem.technicanName!=' '?' designTime text-white':''">{{problem.technicanName}}<i class=" ms-2 fa-solid fa-clock"></i></h3>
        <h3 *ngIf="problem.isSolved"  [class]="problem.technicanName!=' '?' designTime text-white':''">{{problem.technicanName}}<i class=" ms-2 fa-solid fa-circle-check"></i></h3>
      </div>
      <div class="d-flex align-items-center justify-content-between  ">


      </div>
      <!-- <div class="d-flex align-items-center justify-content-between  ">
        <h2 class="card-title text-dark">{{problem.title}}</h2>

      </div> -->



      <div class=" ms-5 d-flex align-items-center ">

        <div class="d-flex justify-content-between">
          <p class="card-text">{{problem.description}}</p>

         <!-- <h5 class="text-dark">{{getTime(problem.date)}}</h5> -->
         </div>
        </div>
        <div class="   row justify-content-between  align-items-center">
         <div class="d-flex col-md-5 my-3 justify-content-center">
            <h3 class="text-white  designTime me-2 mt-3">{{getDate(problem.date)}}</h3>
          <h3 *ngIf="problem.key_Word" class="text-white me-2 designTime mt-3">{{getDate(problem.key_Word )}}</h3>
          <h3  *ngIf="problem.isVIP"   class="text-white me-2 designTime mt-3">VIP</h3>
          <h3  *ngIf="problem.isSolved"   class="text-white me-2  designTime mt-3">Solved</h3>




        </div>
      <!-- <p class="card-text"><small class="text-body-secondary">Last updated 3 mins ago</small></p> -->
      <div class="d-flex  col-md-5 my-3 justify-content-center ">
        <!-- link the delete api -->
        <button *ngIf="!problem.isSolved" class="btn btn-outline-danger me-2" data-bs-toggle="modal" data-bs-target="#SolvedModal" (click)="SendIdForDelete(problem.id)">Delete</button>
  <button *ngIf="!problem.isSolved" class="btn btn-dark me-2" routerLink="/ProblemCustomer/{{problem.id}}">Edite</button>
  <button *ngIf="!problem.isSolved" class="btn btn-outline-success me-2 " data-bs-toggle="modal" data-bs-target="#SolvedModal"(click)="sendProblemId(problem.id)">Solved</button>
  <!--   -->
</div>
      </div>
    </div>


  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="SolvedModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 text-danger" id="exampleModalLabel">Confirmiation</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
  <p  *ngIf="!Deleted"> Are you sure that you Want to assign this problem as Solved</p>
  <p *ngIf="Deleted" class="text-danger">Are you Sure that you Want to Delete this Problem</p>
      </div>
<div *ngIf="Current?.techId!=null&&!Deleted">
<h3 class="ms-3">Give Rate To your Technican <span class="DesignName">{{Current?.technicanName}}</span></h3>

<div class="rating  d-flex justify-content-center align-items-center">
    <input type="radio" id="star5" name="rating" value="5" (click)="sendrate(5)" /><label for="star5"></label>
    <input type="radio" id="star4" name="rating" value="4" (click)="sendrate(4)" /><label for="star4"></label>
    <input type="radio" id="star3" name="rating" value="3" (click)="sendrate(3)" /><label for="star3"></label>
    <input type="radio" id="star2" name="rating" value="2" (click)="sendrate(2)"/><label for="star2"></label>
    <input type="radio" id="star1" name="rating" value="1" (click)="sendrate(1)"/><label for="star1"></label>
</div>

</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
        <button *ngIf="!Deleted" type="button" class="btn btn-primary" (click)="AssignAsSolved()" data-bs-dismiss="modal">Yes</button>
        <button *ngIf="Deleted" type="button" class="btn btn-primary" (click)="Delete()" data-bs-dismiss="modal">Yes</button>
      </div>
    </div>
  </div>
</div>
